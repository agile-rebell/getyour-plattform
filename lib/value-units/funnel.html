<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />
    <title>SHS Funnel</title>


    <style>
      body {
        margin: 0;
        line-height: 1.2;
        font-family: sans-serif;
      }
    </style>


  </head>
  <body>


    <header></header>

    <h1 class="house-title"></h1>
    <div class="house-funnel"></div>

    <h2 class="rafter-spacing-title"></h2>
    <div class="rafter-spacing-funnel"></div>

    <h2 class="scaffold-title"></h2>
    <div class="scaffold-funnel"></div>

    <h2 class="building-dimensions-title"></h2>
    <div class="building-dimensions-funnel"></div>

    <h2 class="flatroof-title"></h2>
    <div class="flatroof-funnel"></div>

    <h2 class="alignment-flatroof-title"></h2>
    <div class="alignment-flatroof-funnel"></div>

    <h2 class="trapezoid-roof-title"></h2>
    <div class="trapezoid-roof-funnel"></div>

    <h2 class="house-dimensions-title"></h2>
    <div class="house-dimensions-funnel"></div>

    <h2 class="upload-title"></h2>
    <div class="upload-funnel"></div>

    <h2 class="brick-title"></h2>
    <div class="brick-funnel"></div>

    <div class="save-and-proceed-button"></div>

    <footer></footer>


    <script type="module">
      import { HeaderField } from "../../../../js/HeaderField.js"
      import { FunnelField } from "../../../../js/FunnelField.js"
      import { CheckboxField } from "../../../../js/CheckboxField.js"
      import { DivField } from "../../../../js/DivField.js"
      import { FileField } from "../../../../js/FileField.js"
      import { Helper } from "../../../../js/Helper.js"
      import { NumberField } from "../../../../js/NumberField.js"
      import { SelectionField } from "../../../../js/SelectionField.js"


      const funnel = JSON.parse(window.localStorage.getItem("shsFunnel"))
      if (funnel === null) {
        window.location.assign("/felix/shs/funnel/qualifizierung/")
        throw new Error("funnel not found")
      }

      const headerField = new HeaderField()
      .withImage(img => {
        img.src = "/felix/shs/img/shslogo.png"
        img.alt = "SHS Express Logo"
        img.style.cursor = "pointer"
        img.style.width = "144px"
        img.addEventListener("click", async() => await Helper.redirectOperatorToChecklist())
      })
      .withType(header => {
        header.style.position = "fixed"
        header.style.top = "0"
        header.style.left = "0"
        header.style.zIndex = "1"
      })
      .withNavigation([
        {active: true, name: "Haus", onclick: async() => await checkAndProceed(funnel.path.house)},
        {active: false, name: "Heizung", onclick: async() => await checkAndProceed(funnel.path.heating)},
        {active: false, name: "Strom", onclick: async() => await checkAndProceed(funnel.path.electricity)},
        {active: false, name: "Technisches", onclick: async() => await checkAndProceed(funnel.path.technical)}
      ])

      document.querySelectorAll(".house-title").forEach(title => {
        title.innerHTML = "Angaben zum Haus"
        title.style.margin = "377px 34px 34px 34px"
        title.style.fontWeight = "normal"
      })


      const houseFunnel = new FunnelField("house-funnel")
      .withFields([
        {class: "hausBaujahr",                  type: "number", withLabel: "Baujahr", withType: hausBaujahr},
        {class: "hausUmbau",                    type: "number", withLabel: "Letzte Renovierung oder Umbau", withType: hausUmbau},
        {class: "hausEtage",                    type: "select", withLabel: "Bewohnte Etagen", withOptions: ["Keller", "Erdgeschoss", "1. Obergeschoss", "Dachgeschoss", "Andere"]},
        {class: "hausFlaeche",                  type: "number", withLabel: "Wohnfläche (qm)", withType: hausFlaeche},
        {class: "hausKabelfuehrungDC",          type: "select", withLabel: "DC-Kabelführung durch Dachhaut möglich", withOptions: ["Nein", "Ja"]},
        {class: "hausVerkabelungDC",            type: "select", withLabel: "DC-Kabelführung an Außenfassade möglich", withOptions: ["Nein", "Ja"]},
        {class: "hausAussenfasadeGedaemmt",     type: "select", withLabel: "Ist die Außenfassade gedämmt", withOptions: ["Nein", "Ja"]},
        {class: "hausDenkmal",                  type: "select", withLabel: "Einschränkungen durch Denkmal- oder Ensembleschutz", withOptions: ["Nein", "Ja"]},
        {class: "hausEnergieVorhanden",         type: "select", withLabel: "Energiesystem vorhanden", withOptions: ["Nein", "Ja, ich habe schon eine Photovoltaikanlage", "Ja, ich habe schon eine Wärmepumpe", "Ja, ich habe schon eine Solarthermie", "Ja, ich habe schon ein Stromspeicher"], withType: selectIsMultiple, onChange: hausEnergieVorhandenOnChange, onWindowLoaded: hausEnergieVorhandenOnDomContentLoaded},
        {class: "hausEnergieSystemEntsorgen",   type: "select", withLabel: "Soll das alte Energiesystem von uns entsorgt werden", withOptions: ["Nein", "Ja"]},
        {class: "hausLager",                    type: "select", withLabel: "Lagermöglichkeit vorhanden", withOptions: ["Ja", "Nein", "Nicht bei mir zu Hause"]},
        {class: "hausDacheindeckung",           type: "select", withLabel: "Die Dacheindeckung ist..", withOptions: ["gelegt", "geschraubt", "geklebt", "gebohrt"], withType: q6is4},
        {class: "hausUKUeberstand",             type: "select", withLabel: "Die Arten der Ausführung für die UK sind mir bekannt", withOptions: ["Nein", "Ja"], withRequired: 1},
        {class: "hausAnderesHausAbstand",       type: "select", withLabel: "Mir sind die Vorgaben der Landesbauordnung hinsichtlich Nachbargrundstück bekannt", withOptions: ["Nein", "Ja"], withType: q7not0, withRequired: 1},
        {class: "hausEntlueftungsrohre",        type: "select", withLabel: "Be-/ Entlüftungsrohre vorhanden", withOptions: ["Nein", "Ja"]},
        {class: "hausBlitzschutzanlage",        type: "select", withLabel: "Blitzschutzanlage vorhanden", withOptions: ["Nein", "Ja"]},
        {class: "hausBesonderheiten",           type: "select", withLabel: "Sind “Dachaufbauten” angebracht", withOptions: ["Nein", "SAT Antennen", "Blitzableiter", "Schneefanggitter", "Dachfenster", "Dachgauben", "Freileitung", "Andere"]},
      ])


      function hausBaujahr(input) {
        input.min = "1800"
        input.max = "2100"
        input.placeholder = "1922"
        input.required = true
      }

      function hausUmbau(input) {
        input.min = "1800"
        input.max = "2100"
        input.placeholder = "1962"
        input.required = true
      }

      function hausFlaeche(input) {
        input.min = "0"
        input.max = "10000"
        input.placeholder = "in qm"
        input.required = true
      }

      function hausEnergieVorhandenOnDomContentLoaded(event) {
        document.querySelectorAll("select[id='hausEnergieVorhanden']").forEach(select => {
          if (select.value === "Nein") document.querySelectorAll("select[id='hausEnergieSystemEntsorgen']").forEach(select => select.disabled = true)
        })
      }

      function selectIsMultiple(select) {
        select.multiple = true
      }

      function hausEnergieVorhandenOnChange(event) {
        if (event.target.value === "Nein") {
          document.querySelectorAll("select[id='hausEnergieSystemEntsorgen']").forEach(select => select.disabled = true)
        }
        if (event.target.value !== "Nein") {
          document.querySelectorAll("select[id='hausEnergieSystemEntsorgen']").forEach(select => select.disabled = false)
        }
      }

      function q6is4(select) {
        select.disabled = true
        const q6 = funnel.value.q6
        if (q6 === 4) {
          select.disabled = false
        }
      }

      function q7not0(select) {
        const q7 = funnel.value.q7
        if (q7 !== 0) {
          select.disabled = true
        }
      }

      houseFunnel.withStorage(funnel.storage).buildFields()



      document.querySelectorAll(".rafter-spacing-title").forEach(title => {
        title.innerHTML = "Sparrenabstand"
        title.style.margin = "144px 34px 34px 34px"
        title.style.fontWeight = "normal"
      })

      const rafterSpacingFunnel = new FunnelField("rafter-spacing-funnel")
      .withFields([
        {class: "hausAbstandSparren",                  type: "number", withLabel: "Abstand (a) in cm", withType: q5is2orQ5is4},
        {class: "hausSparrenBreite",                  type: "number", withLabel: "Breite (b) in cm", withType: q5is2orQ5is4},
        {class: "hausSparrenHoehe",                  type: "number", withLabel: "Höhe (c) in cm", withType: q5is2orQ5is4},
        {class: "hausMaterialSparren",                  type: "select", withLabel: "Material der Sparren", withType: q5is2orQ5is4Select, withOptions: ["Holz", "Metall", "Sonstiges"]},
      ])


      function q5is2orQ5is4(input) {
        input.min = 0
        input.max = 100
        input.placeholder = "in cm"
        input.required = true
        const q5 = funnel.value.q5
        if (q5 === 2 || q5 === 4) {
          input.disabled = true
        }
      }

      function q5is2orQ5is4Select(select) {
        const q5 = funnel.value.q5
        if (q5 === 2 || q5 === 4) {
          select.disabled = true
        }
      }

      rafterSpacingFunnel.withStorage(funnel.storage).buildFields()




      document.querySelectorAll(".scaffold-title").forEach(title => {
        title.innerHTML = "Gerüstaufstellung"
        title.style.margin = "144px 34px 34px 34px"
        title.style.fontWeight = "normal"
      })

      const scaffoldFunnel = new FunnelField("scaffold-funnel")
      .withFields([
        {class: "hausGeruestOeffentlich", type: "select", withLabel: "Material der Sparren", withOptions: ["Nein", "Ja"]},
        {class: "hausGeruestSelbstGestellt", type: "select", withLabel: "Material der Sparren", withOptions: ["Nein", "Ja"]},
        {class: "hausVerankerung", type: "checkbox", withLabel: "Mir ist bekannt, dass ab einer Traufhöhe von vier Metern eine Verankerung notwendig sein könnte", withType: checkboxRequired, afterCheckbox: "Ja, das ist mir bekannt."},
        {class: "hausGeruestAufstellungNord", type: "checkbox", withLabel: "Aufstellung", afterCheckbox: "Nordausrichtung"},
        {class: "hausGeruestAufstellungSued", type: "checkbox", withLabel: "Aufstellung", afterCheckbox: "Südausrichtung"},
        {class: "hausGeruestAufstellungOst", type: "checkbox", withLabel: "Aufstellung", afterCheckbox: "Ostausrichtung"},
        {class: "hausGeruestAufstellungWest", type: "checkbox", withLabel: "Aufstellung", afterCheckbox: "Westausrichtung"},
      ])

      scaffoldFunnel.withStorage(funnel.storage).buildFields()


      function checkboxRequired(checkbox) {
        checkbox.required = true
      }



      document.querySelectorAll(".building-dimensions-title").forEach(title => {
        title.innerHTML = "Gebäudeabmessungen"
        title.style.margin = "144px 34px 34px 34px"
        title.style.fontWeight = "normal"
      })


      const buildingDimensionsFunnel = new FunnelField("building-dimensions-funnel")
      .withFields([
        {class: "hausBreite", type: "number", withLabel: "Breite (a+b) in Meter", withType: inMeter},
        {class: "hausLaenge", type: "number", withLabel: "Länge (a+b) in Meter", withType: inMeter},
        {class: "hausGeruestAnzahl", type: "number", withLabel: "Gerüstanzahl", withType: hausGeruestAnzahlRequired},
        {class: "hausGesamtGeruestFlaeche", type: "number", withLabel: "Gesamtgerüstfläche (Länge x Höhe) in Quadratmeter", withType: inSquareMeter},

      ])

      function inMeter(number) {
        number.min = 0
        number.max = 100
        number.placeholder = "in m"
      }

      function hausGeruestAnzahlRequired(number) {
        number.min = 0
        number.max = 100
        number.placeholder = "1"
        number.required = true
      }

      function inSquareMeter(number) {
        number.min = 0
        number.max = 100
        number.placeholder = "in m^2"
      }

      buildingDimensionsFunnel.withStorage(funnel.storage).buildFields()





      document.querySelectorAll(".flatroof-title").forEach(title => {
        title.innerHTML = "Flachdach"
        title.style.margin = "144px 34px 34px 34px"
        title.style.fontWeight = "normal"
      })


      const flatRoofFunnel = new FunnelField("flatroof-funnel")
      .withFields([
        {class: "hausAttikaVorhanden", type: "select", withLabel: "Attika vorhanden", withType: hausAttika, withOptions: ["Nein", "Ja"]},
        {class: "hausAttikaBreite", type: "number", withLabel: "Breite (a) in cm", withType: hausAttikaInCm},
        {class: "hausAttikaHoehe", type: "number", withLabel: "Höhe (b) in cm", withType: hausAttikaInCm},
        {class: "hausGradzahlFlachdach", type: "number", withLabel: "Gradzahl Flachdach in Meter", withType: hausAttikaInMeter},
        {class: "hausFlachdachNeigungBekannt", type: "checkbox", withLabel: "Mir ist bekannt dass, bei einem Flachdach mit einer Neigung von mehr als 4 Grad eine Aufständerung mit Ballastierung nicht möglich ist. Daher ist nur eine Befestigung mit Dachdurchdringung möglich.", withType: q5is2orQ5is4Checkbox, afterCheckbox: "Ja, das ist mir bekannt."},
      ])

      function hausAttika(select) {
        select.disabled = true
        const q5 = funnel.value.q5
        if (q5 === 2 || q5 === 4) {
          select.disabled = false
        }
      }

      function hausAttikaInCm(input) {
        input.min = 0
        input.max = 100
        input.placeholder = "in cm"
        input.disabled = true
        const q5 = funnel.value.q5
        if (q5 === 2 || q5 === 4) {
          input.required = true
          input.disabled = false
        }
      }

      function hausAttikaInMeter(input) {
        input.min = 0
        input.max = 100
        input.placeholder = "in m"
        input.disabled = true
        const q5 = funnel.value.q5
        if (q5 === 2 || q5 === 4) {
          input.required = true
          input.disabled = false
        }
      }

      function q5is2orQ5is4Checkbox(box) {
        box.disabled = true
        const q5 = funnel.value.q5
        if (q5 === 2 || q5 === 4) {
          box.required = true
          box.disabled = false
        }
      }

      flatRoofFunnel.withStorage(funnel.storage).buildFields()



      document.querySelectorAll(".alignment-flatroof-title").forEach(title => {
        title.innerHTML = "Ausrichtung Flachdach"
        title.style.margin = "144px 34px 34px 34px"
        title.style.fontWeight = "normal"
      })


      const alignmentFlatRoofFunnel = new FunnelField("alignment-flatroof-funnel")
      .withFields([
        {class: "hausFlachdachNordAusrichtung", type: "checkbox", withLabel: "Nordseite", withType: q5is2orQ5is4BoxDisabled, onChange: exceptNord},
        {class: "hausFlachdachOstAusrichtung", type: "checkbox", withLabel: "Ostseite", withType: q5is2orQ5is4BoxDisabled, onChange: exceptOst},
        {class: "hausFlachdachSuedAusrichtung", type: "checkbox", withLabel: "Südseite", withType: q5is2orQ5is4BoxDisabled, onChange: exceptSued},
        {class: "hausFlachdachWestAusrichtung", type: "checkbox", withLabel: "Westseite", withType: q5is2orQ5is4BoxDisabled, onChange: exceptWest},
      ])


      function q5is2orQ5is4BoxDisabled(box) {
        box.disabled = true
        const q5 = funnel.value.q5
        if (q5 === 2 || q5 === 4) {
          box.disabled = false
        }
      }

      const nordCheckbox = "input[id='hausFlachdachNordAusrichtung']"
      const ostCheckbox = "input[id='hausFlachdachOstAusrichtung']"
      const suedCheckbox = "input[id='hausFlachdachSuedAusrichtung']"
      const westCheckbox = "input[id='hausFlachdachWestAusrichtung']"

      function exceptNord(event) {
        if (event.target.checked) {
          document.querySelectorAll(ostCheckbox).forEach(box => box.checked = false)
          document.querySelectorAll(suedCheckbox).forEach(box => box.checked = false)
          document.querySelectorAll(westCheckbox).forEach(box => box.checked = false)
        }
      }

      function exceptOst(event) {
        if (event.target.checked) {
          document.querySelectorAll(nordCheckbox).forEach(box => box.checked = false)
          document.querySelectorAll(suedCheckbox).forEach(box => box.checked = false)
          document.querySelectorAll(westCheckbox).forEach(box => box.checked = false)
        }
      }

      function exceptSued(event) {
        if (event.target.checked) {
          document.querySelectorAll(nordCheckbox).forEach(box => box.checked = false)
          document.querySelectorAll(ostCheckbox).forEach(box => box.checked = false)
          document.querySelectorAll(westCheckbox).forEach(box => box.checked = false)
        }
      }

      function exceptWest(event) {
        if (event.target.checked) {
          document.querySelectorAll(nordCheckbox).forEach(box => box.checked = false)
          document.querySelectorAll(suedCheckbox).forEach(box => box.checked = false)
          document.querySelectorAll(ostCheckbox).forEach(box => box.checked = false)
        }
      }


      alignmentFlatRoofFunnel.withStorage(funnel.storage).buildFields()




      document.querySelectorAll(".trapezoid-roof-title").forEach(title => {
        title.innerHTML = "Trapezdach"
        title.style.margin = "144px 34px 34px 34px"
        title.style.fontWeight = "normal"
      })


      const trapezoidRoofFunnel = new FunnelField("trapezoid-roof-funnel")
      .withFields([
        {class: "hausAluStaerke", type: "number", withLabel: "Stärke meines Aluminiumdaches", withType: staerkeInMm},
        {class: "hausStahlStaerke", type: "number", withLabel: "Stärke meines Stahldaches", withType: staerkeInMm},
        {class: "isIcopal", type: "checkbox", withLabel: "Wenn Dacheindeckung vom Hersteller “Icopal”, dann nicht baubar.", withType: icopalCheck, afterCheckbox: "Ja, das ist mir bekannt."},
      ])


      function staerkeInMm(input) {
        input.min = 0
        input.max = 100
        input.placeholder = "in mm"
        input.disabled = true
        const q5 = funnel.value.q5
        const q6 = funnel.value.q6
        if (q5 === 2 && (q6 === 1 || q6 === 2)) {
          input.disabled = false
        }
      }

      function icopalCheck(box) {
        box.disabled = true
        const q5 = funnel.value.q5
        const q6 = funnel.value.q6
        if (q5 === 2 && (q6 === 1 || q6 === 2)) {
          box.disabled = false
          box.required = true
        }
      }


      trapezoidRoofFunnel.withStorage(funnel.storage).buildFields()

      document.querySelectorAll(".house-dimensions-title").forEach(title => {
        title.innerHTML = "Hausmaße"
        title.style.margin = "144px 34px 34px 34px"
        title.style.fontWeight = "normal"
      })


      const houseDimensionsFunnel = new FunnelField("house-dimensions-funnel")
      .withFields([
        {class: "hausTraufhoehe", type: "number", withLabel: "Traufhöhe in Meter", withType: q5isNot2inMeter},
        {class: "hausDachBreite", type: "number", withLabel: "Dachbreite in Meter", withType: q5isNot2inMeter},
        {class: "hausDachLaenge", type: "number", withLabel: "Dachlänge in Meter", withType: q5isNot2inMeter},
        {class: "hausFirstHoehe", type: "number", withLabel: "Firsthöhe in Meter", withType: q5isNot2inMeter},
        {class: "hausDachAusrichtung", type: "select", withLabel: "Dachausrichtung", withType: q5isNot2SelectDisabled, withOptions: ["Süd", "Nord", "Nord-Ost", "Ost", "Süd-Ost", "Süd-West", "West", "Nord-West"]},
        {class: "hausFirstHoehe", type: "number", withLabel: "Dachneigung in Grad", withType: hausDachNeigung},
      ])

      function q5isNot2inMeter(input) {
        input.min = 0
        input.max = 100
        input.placeholder = "in m"
        input.disabled = true
        const q5 = funnel.value.q5
        if (q5 !== 2) {
          input.disabled = false
          input.required = true
        }
      }

      function q5isNot2SelectDisabled(select) {
        select.disabled = true
        const q5 = funnel.value.q5
        if (q5 !== 2) {
          select.disabled = false
        }
      }

      function hausDachNeigung(input) {
        input.min = 0
        input.max = 100
        input.placeholder = "in Grad"
        input.disabled = true
        const q5 = funnel.value.q5
        if (q5 !== 2) {
          input.disabled = false
          input.required = true
        }

      }

      houseDimensionsFunnel.withStorage(funnel.storage).buildFields()


      document.querySelectorAll(".upload-title").forEach(title => {
        title.innerHTML = "Bilderupload"
        title.style.margin = "144px 34px 34px 34px"
        title.style.fontWeight = "normal"
      })


      const uploadFunnel = new FunnelField("upload-funnel")
      .withFields([
        {class: "hausFrontBild", type: "file", withLabel: "Frontansicht", withType: q5isNot2UploadRequired},
        {class: "hausSuedAnsichtBild", type: "file", withLabel: "Südansicht", withType: q5isNot2Upload},
        {class: "hausGeruestStandortBild", type: "file", withLabel: "Gerüststandort", withType: q5isNot2MultipleRequired},
        {class: "hausOrtgangBild", type: "file", withLabel: "Ortgang", withType: q5isNot2UploadRequired},
        {class: "hausSparrenAnsichtBild", type: "file", withLabel: "Sparrenansicht", withType: q5isNot2UploadRequired},
      ])


      function q5isNot2UploadRequired(input) {
        input.disabled = true
        const q5 = funnel.value.q5
        if (q5 !== 2) {
          input.disabled = false
          input.accept = "image/*"
          input.required = true
        }
      }

      function q5isNot2Upload(input) {
        input.disabled = true
        const q5 = funnel.value.q5
        if (q5 !== 2) {
          input.disabled = false
          input.accept = "image/*"
        }
      }

      function q5isNot2MultipleRequired(input) {
        input.disabled = true
        const q5 = funnel.value.q5
        if (q5 !== 2) {
          input.disabled = false
          input.accept = "image/*"
          input.required = true
          input.multiple = true
        }
      }

      uploadFunnel.withStorage(funnel.storage).buildFields()





      document.querySelectorAll(".brick-title").forEach(title => {
        title.innerHTML = "Ziegel"
        title.style.margin = "144px 34px 34px 34px"
        title.style.fontWeight = "normal"
      })


      const brickFunnel = new FunnelField("brick-funnel")
      .withFields([
        {class: "hausZiegelBild", type: "file", withLabel: "Bild des Ziegels", withType: q5isNot2Upload},
        {class: "hausDeckmassLaenge", type: "number", withLabel: "Ziegeldeckmaß Länge in mm", withType: brickInMm},
        {class: "hausDeckmassBreite", type: "number", withLabel: "Ziegeldeckmaß Breite in mm", withType: brickInMm},
        {class: "hausErsatzZiegel", type: "select", withLabel: "Ersatzziegel vorhanden", withOptions: ["Nein", "Ja"]},
      ])

      function brickInMm(input) {
        input.min = "0"
        input.max = "100"
        input.placeholder = "in mm"
        input.required = true
      }

      brickFunnel.withStorage(funnel.storage).buildFields()


      const speichernundweiterbutton = new DivField("save-and-proceed-button")
      .withType(div => {
        div.innerHTML = "Speichern und weiter"
        div.style.fontSize = "21px"
        div.style.margin = "144px 34px"
        div.style.backgroundColor = "#f7aa20"
        div.style.borderRadius = "13px"
        div.style.height = "89px"
        div.style.display = "flex"
        div.style.justifyContent = "center"
        div.style.alignItems = "center"
        div.addEventListener("mouseover", () => div.style.backgroundColor = "#f19d08")
        div.addEventListener("mouseout", () => div.style.backgroundColor = "#f7aa20")
      })
      .onClick(async () => await checkAndProceed(funnel.path.heating))



      Helper.createSHSFooter()

      async function checkAndProceed(path) {
        await houseFunnel.checkValidity()
        await rafterSpacingFunnel.checkValidity()
        await scaffoldFunnel.checkValidity()
        await buildingDimensionsFunnel.checkValidity()
        await flatRoofFunnel.checkValidity()
        await alignmentFlatRoofFunnel.checkValidity()
        await trapezoidRoofFunnel.checkValidity()
        await houseDimensionsFunnel.checkValidity()
        await uploadFunnel.checkValidity()
        await brickFunnel.checkValidity()

        window.location.assign(path)
      }


    </script>

  </body>
</html>
