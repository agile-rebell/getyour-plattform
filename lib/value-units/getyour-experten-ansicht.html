<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="/public/getyour-logo.svg" />
    <title>Getyour Experte</title>

    <style>
      body {
        margin: 0;
        line-height: 1.2;
        font-family: sans-serif;
        padding-bottom: 144px;
      }
    </style>

  </head>
  <body>

    <script type="module">
      import { Request } from "./../js/Request.js"
      import { Helper } from "./../js/Helper.js"
      import { TextField } from "./../js/TextField.js"
      import { FileField } from "./../js/FileField.js"


      const header = document.createElement("header")
      header.style.position = "fixed"
      header.style.bottom = "0"
      header.style.left = "0"
      header.style.backgroundColor = "white"
      header.style.width = "100%"
      header.style.display = "flex"
      header.style.flexWrap = "wrap"
      header.style.alignItems = "center"
      header.style.justifyContent = "space-between"
      header.style.boxShadow = "0 -3px 5px rgba(0, 0, 0, 0.13)"

      const leftContainer = document.createElement("div")
      leftContainer.style.display = "flex"
      leftContainer.style.alignItems = "center"
      leftContainer.style.flexWrap = "wrap"

      const logo = document.createElement("img")
      logo.src = "/public/getyour-logo.svg"
      logo.alt = "Getyour"
      logo.style.width = "55px"
      logo.style.margin = "21px 0 21px 34px"
      logo.style.cursor = "pointer"
      logo.addEventListener("click", () => window.history.back())
      leftContainer.append(logo)

      const name = document.createElement("div")
      name.innerHTML = "Plattform"
      name.style.padding = "21px 34px"
      name.style.fontSize = "21px"
      name.style.color = "#000"
      name.style.cursor = "pointer"


      name.addEventListener("click", () => {

        Helper.popup(async overlay => {

          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/public/getyour-logo.svg"
          logo.alt = "Getyour"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = `/ ${window.location.pathname.split("/")[1]} /`
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)



          const buttons = document.createElement("div")
          buttons.style.overflow = "auto"
          buttons.style.paddingBottom = "144px"


          {
            const verify = {}
            verify.url = "/verify/roles/closed/3/"
            verify.state = "owner"
            verify.name = window.location.pathname.split("/")[1]
            verify.localStorageId = await Request.localStorageId()
            verify.localStorageEmail = await Request.email()
            verify.referer = document.referrer
            verify.location = window.location.href
            const res = await Request.middleware(verify)

            if (res.status === 200) {

              const button = document.createElement("div")
              button.style.display = "flex"
              button.style.flexWrap = "wrap"
              button.style.justifyContent = "space-between"
              button.style.alignItems = "center"
              button.style.margin = "21px 34px"
              button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
              button.style.borderRadius = "13px"
              button.style.border = "0.3px solid black"
              button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => {

                Helper.popup(async overlay => {

                  {
                    const header = document.createElement("div")
                    header.style.position = "fixed"
                    header.style.bottom = "0"
                    header.style.left = "0"
                    header.style.width = "100%"
                    header.style.display = "flex"
                    header.style.justifyContent = "flex-start"
                    header.style.alignItems = "center"
                    header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
                    header.style.background = "white"
                    header.style.cursor = "pointer"
                    header.addEventListener("click", () => Helper.removeOverlay(overlay))

                    const logo = document.createElement("img")
                    logo.src = "/public/getyour-logo.svg"
                    logo.alt = "Getyour"
                    logo.style.width = "55px"
                    logo.style.margin = "21px 34px"
                    header.append(logo)
                    const title = document.createElement("div")
                    title.innerHTML = `Plattform hinzufügen`
                    title.style.fontWeight = "bold"
                    title.style.fontSize = "21px"
                    header.append(title)
                    overlay.append(header)
                  }


                  const funnel = document.createElement("div")
                  funnel.style.overflow = "auto"
                  funnel.style.paddingBottom = "144px"


                  const platformNameField = new TextField("platformName", funnel)
                  platformNameField.label.innerHTML = "Name"
                  platformNameField.input.accept = "text/tag"
                  platformNameField.input.maxLength = "21"
                  platformNameField.input.required = true
                  platformNameField.input.placeholder = "meine-plattform"
                  platformNameField.input.addEventListener("input", (event) => {
                    platformNameField.withValidValue()
                  })
                  Helper.setNotValidStyle(platformNameField.input)



                  const platformLogoField = new FileField("platformLogo", funnel)
                  platformLogoField.label.innerHTML = "Logo"
                  platformLogoField.input.accept = "image/jpeg, image/png"
                  platformLogoField.input.required = true
                  platformLogoField.input.addEventListener("input", (event) => {
                    platformLogoField.withValidImage(event.target.files[0])
                  })
                  Helper.setNotValidStyle(platformLogoField.input)

                  const button = document.createElement("div")
                  button.innerHTML = "Hinzufügen"
                  button.style.backgroundColor = "#c02221"
                  button.style.cursor = "pointer"
                  button.style.fontSize = "21px"
                  button.style.borderRadius = "13px"
                  button.style.margin = "13px 34px"
                  button.style.display = "flex"
                  button.style.justifyContent = "center"
                  button.style.alignItems = "center"
                  button.style.height = "89px"
                  button.style.color = "#fff"
                  button.addEventListener("click", async () => {
                    const platformName = await platformNameField.withValidValue()
                    const platformLogoFiles = await platformLogoField.withValidValue()
                    const platformLogo = await platformLogoField.withValidImage(platformLogoFiles[0])


                    const verify = {}
                    verify.url = "/verify/platform/closed/3/"
                    verify.name = platformName
                    verify.localStorageEmail = await Request.email()
                    verify.localStorageId = await Request.localStorageId()
                    verify.location = window.location.href
                    verify.referer = document.referrer
                    const res = await Request.middleware(verify)

                    if (res.status === 200) {
                      alert("Plattform Name existiert bereits.")
                      Helper.setNotValidStyle(platformNameField.input)
                      return
                    }


                    try {
                      Helper.addOverlay()
                      Helper.setWaitCursor()
                      const register = {}
                      register.url = "/register/platform/closed/3/"
                      register.name = platformName
                      register.logo = platformLogo
                      register.localStorageEmail = await Request.email()
                      register.localStorageId = await Request.localStorageId()
                      register.location = window.location.href
                      register.referer = document.referrer
                      await Request.sequence(register)
                      alert("Plattform erfolgreich hinzugefügt..")
                    } catch (error) {
                      alert("Fehler.. Bitte wiederholen.")
                    }
                    window.location.reload()


                  })
                  funnel.append(button)

                  overlay.append(funnel)
                })

              })

              const icon = document.createElement("img")
              icon.style.margin = "13px 34px"
              icon.style.width = "34px"
              icon.src = "/public/add-icon.svg"
              icon.alt = "Hinzufügen"
              button.append(icon)

              const title = document.createElement("div")
              title.innerHTML = "Plattform hinzufügen"
              title.style.margin = "21px 34px"
              title.style.fontSize = "21px"
              button.append(title)

              buttons.append(button)

            }

          }


          {
            const button = document.createElement("div")
            button.style.display = "flex"
            button.style.flexWrap = "wrap"
            button.style.justifyContent = "space-between"
            button.style.alignItems = "center"
            button.style.margin = "21px 34px"
            button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
            button.style.borderRadius = "13px"
            button.style.border = "0.3px solid black"
            button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
            button.style.cursor = "pointer"
            button.addEventListener("click", () => window.location.assign("/"))

            const icon = document.createElement("img")
            icon.style.margin = "13px 34px"
            icon.style.width = "34px"
            icon.src = "/public/home.svg"
            icon.alt = "Home"
            button.append(icon)

            const title = document.createElement("div")
            title.innerHTML = "Startseite"
            title.style.margin = "21px 34px"
            title.style.fontSize = "21px"
            button.append(title)

            buttons.append(button)
          }



          {
            const button = document.createElement("div")
            button.style.display = "flex"
            button.style.flexWrap = "wrap"
            button.style.justifyContent = "space-between"
            button.style.alignItems = "center"
            button.style.margin = "21px 34px"
            button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
            button.style.borderRadius = "13px"
            button.style.border = "0.3px solid black"
            button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
            button.style.cursor = "pointer"
            button.addEventListener("click", () => window.location.assign("/pana/getyour/login/"))

            const icon = document.createElement("img")
            icon.style.margin = "13px 34px"
            icon.style.width = "34px"
            icon.src = "/public/entry.svg"
            icon.alt = "Login"
            button.append(icon)

            const title = document.createElement("div")
            title.innerHTML = "Login"
            title.style.margin = "21px 34px"
            title.style.fontSize = "21px"
            button.append(title)

            buttons.append(button)
          }




          {
            const button = document.createElement("div")
            button.style.display = "flex"
            button.style.flexWrap = "wrap"
            button.style.justifyContent = "space-between"
            button.style.alignItems = "center"
            button.style.margin = "21px 34px"
            button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
            button.style.borderRadius = "13px"
            button.style.border = "0.3px solid black"
            button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
            button.style.cursor = "pointer"
            button.addEventListener("click", () => window.location.assign("/pana/getyour/nutzervereinbarung/"))

            const icon = document.createElement("img")
            icon.style.margin = "13px 34px"
            icon.style.width = "34px"
            icon.src = "/public/handshake.svg"
            icon.alt = "Nutzervereinbarung"
            button.append(icon)

            const title = document.createElement("div")
            title.innerHTML = "Nutzervereinbarung"
            title.style.margin = "21px 34px"
            title.style.fontSize = "21px"
            button.append(title)

            buttons.append(button)
          }

          {
            const button = document.createElement("div")
            button.style.display = "flex"
            button.style.flexWrap = "wrap"
            button.style.justifyContent = "space-between"
            button.style.alignItems = "center"
            button.style.margin = "21px 34px"
            button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
            button.style.borderRadius = "13px"
            button.style.border = "0.3px solid black"
            button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
            button.style.cursor = "pointer"
            button.addEventListener("click", () => window.location.assign("/pana/getyour/datenschutz/"))

            const icon = document.createElement("img")
            icon.style.margin = "13px 34px"
            icon.style.width = "34px"
            icon.src = "/public/security.svg"
            icon.alt = "Sicherheit"
            button.append(icon)

            const title = document.createElement("div")
            title.innerHTML = "Datenschutz Richtilinien"
            title.style.margin = "21px 34px"
            title.style.fontSize = "21px"
            button.append(title)

            buttons.append(button)
          }
          {
            const button = document.createElement("div")
            button.style.display = "flex"
            button.style.flexWrap = "wrap"
            button.style.justifyContent = "space-between"
            button.style.alignItems = "center"
            button.style.margin = "21px 34px"
            button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
            button.style.borderRadius = "13px"
            button.style.border = "0.3px solid black"
            button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
            button.style.cursor = "pointer"
            button.addEventListener("click", () => window.location.assign("/pana/getyour/impressum/"))

            const icon = document.createElement("img")
            icon.style.margin = "13px 34px"
            icon.style.width = "34px"
            icon.src = "/public/company.svg"
            icon.alt = "Unternehmen"
            button.append(icon)

            const title = document.createElement("div")
            title.innerHTML = "Impressum"
            title.style.margin = "21px 34px"
            title.style.fontSize = "21px"
            button.append(title)

            buttons.append(button)
          }

          overlay.append(buttons)
        })


      })


      leftContainer.append(name)
      header.append(leftContainer)
      document.body.append(header)




      {
        const title = document.createElement("h1")
        title.innerHTML = "Plattformen"
        title.style.margin = "21px 34px"
        title.style.fontWeight = "normal"
        document.body.append(title)
      }


      {
        const verify = {}
        verify.url = "/verify/roles/closed/3/"
        verify.state = "owner"
        verify.name = window.location.pathname.split("/")[1]
        verify.localStorageId = await Request.localStorageId()
        verify.localStorageEmail = await Request.email()
        verify.referer = document.referrer
        verify.location = window.location.href
        const res = await Request.middleware(verify)

        if (res.status !== 200) {
          const get = {}
          get.url = "/get/platforms/open/"
          get.name = window.location.pathname.split("/")[1]
          get.location = window.location.href
          get.referer = document.referrer
          const res = await Request.middleware(get)

          if (res.status !== 200) {

            const div = document.createElement("div")
            div.style.position = "absolute"
            div.style.top = "0"
            div.style.left = "0"
            div.style.height = "89vh"
            div.style.width = "100%"
            div.style.display = "flex"
            div.style.justifyContent = "center"
            div.style.alignItems = "center"
            div.style.zIndex = "-1"
            div.style.color = "gray"
            div.innerHTML = `<span style="margin: 21px 34px;">Schon bald werden hier Plattformen für dich zur Verfügung stehen.</span>`
            document.body.append(div)
            throw new Error("platform not found")

          }

          if (res.status === 200) {
            const platforms = JSON.parse(res.response)

            if (platforms.length === 0) {

              const div = document.createElement("div")
              div.style.position = "absolute"
              div.style.top = "0"
              div.style.left = "0"
              div.style.height = "89vh"
              div.style.width = "100%"
              div.style.display = "flex"
              div.style.justifyContent = "center"
              div.style.alignItems = "center"
              div.style.zIndex = "-1"
              div.style.color = "gray"
              div.innerHTML = `<span style="margin: 21px 34px;">Schon bald werden hier Plattformen für dich zur Verfügung stehen.</span>`
              document.body.append(div)
              throw new Error("platform not found")

            }

            for (let i = 0; i < platforms.length; i++) {

              const platform = platforms[i]

              const container = document.createElement("div")
              container.style.display = "flex"
              container.style.flexWrap = "wrap"
              container.style.justifyContent = "space-between"
              container.style.alignItems = "center"
              container.style.margin = "21px 34px"
              container.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
              container.style.borderRadius = "13px"
              container.style.border = "0.3px solid black"
              container.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
              container.style.cursor = "pointer"

              // click listener with more data about the platform (popup)
              container.addEventListener("click", () => {

                Helper.popup(async overlay => {

                  const header = document.createElement("div")
                  header.style.position = "fixed"
                  header.style.bottom = "0"
                  header.style.left = "0"
                  header.style.width = "100%"
                  header.style.display = "flex"
                  header.style.justifyContent = "flex-start"
                  header.style.alignItems = "center"
                  header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
                  header.style.background = "white"
                  header.style.cursor = "pointer"
                  header.addEventListener("click", () => Helper.removeOverlay(overlay))

                  const logo = document.createElement("img")
                  logo.src = "/public/getyour-logo.svg"
                  logo.alt = "Getyour"
                  logo.style.width = "55px"
                  logo.style.margin = "21px 34px"
                  header.append(logo)
                  const title = document.createElement("div")
                  title.innerHTML = platform.name
                  title.style.fontWeight = "bold"
                  title.style.fontSize = "21px"
                  header.append(title)
                  overlay.append(header)



                  const buttons = document.createElement("div")
                  buttons.style.overflow = "auto"
                  buttons.style.paddingBottom = "144px"


                  {
                    const button = document.createElement("div")
                    button.style.display = "flex"
                    button.style.flexWrap = "wrap"
                    button.style.justifyContent = "space-between"
                    button.style.alignItems = "center"
                    button.style.margin = "21px 34px"
                    button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
                    button.style.borderRadius = "13px"
                    button.style.border = "0.3px solid black"
                    button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
                    button.style.cursor = "pointer"
                    button.addEventListener("click", () => window.location.assign(platform.home))

                    const icon = document.createElement("img")
                    icon.style.margin = "13px 34px"
                    icon.style.width = "34px"
                    icon.src = "/public/home.svg"
                    icon.alt = "Home"
                    button.append(icon)

                    const title = document.createElement("div")
                    title.innerHTML = "Startseite"
                    title.style.margin = "21px 34px"
                    title.style.fontSize = "21px"
                    button.append(title)

                    buttons.append(button)
                  }

                  overlay.append(buttons)
                })


              })


              {
                const icon = document.createElement("img")
                icon.style.margin = "13px 34px"
                icon.style.width = "55px"
                icon.src = platform.logo
                icon.alt = platform.name
                container.append(icon)
              }

              {
                const title = document.createElement("h2")
                title.style.margin = "13px 34px"
                title.style.fontWeight = "normal"
                title.innerHTML = platform.name
                container.append(title)
              }

              document.body.append(container)
            }

          }


        }

        if (res.status === 200) {

          const get = {}
          get.url = "/get/platforms/closed/3/"
          get.name = window.location.pathname.split("/")[1]
          get.localStorageEmail = await Request.email()
          get.localStorageId = await Request.localStorageId()
          get.location = window.location.href
          get.referer = document.referrer
          const res = await Request.middleware(get)

          if (res.status !== 200) {

            const div = document.createElement("div")
            div.style.position = "absolute"
            div.style.top = "0"
            div.style.left = "0"
            div.style.height = "89vh"
            div.style.width = "100%"
            div.style.display = "flex"
            div.style.justifyContent = "center"
            div.style.alignItems = "center"
            div.style.zIndex = "-1"
            div.style.color = "gray"
            div.innerHTML = `<span style="margin: 21px 34px;">Schon bald werden hier Plattformen für dich zur Verfügung stehen.</span>`
            document.body.append(div)
            throw new Error("platform not found")

          }

          if (res.status === 200) {
            const platforms = JSON.parse(res.response)

            if (platforms.length === 0) {

              const div = document.createElement("div")
              div.style.position = "absolute"
              div.style.top = "0"
              div.style.left = "0"
              div.style.height = "89vh"
              div.style.width = "100%"
              div.style.display = "flex"
              div.style.justifyContent = "center"
              div.style.alignItems = "center"
              div.style.zIndex = "-1"
              div.style.color = "gray"
              div.innerHTML = `<span style="margin: 21px 34px;">Schon bald werden hier Plattformen für dich zur Verfügung stehen.</span>`
              document.body.append(div)
              throw new Error("platform not found")

            }

            for (let i = 0; i < platforms.length; i++) {

              const platform = platforms[i]

              const container = document.createElement("div")
              container.style.display = "flex"
              container.style.flexWrap = "wrap"
              container.style.justifyContent = "space-between"
              container.style.alignItems = "center"
              container.style.margin = "21px 34px"
              container.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
              container.style.borderRadius = "13px"
              container.style.border = "0.3px solid black"
              container.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
              container.style.cursor = "pointer"

              // click listener with more data about the platform (popup)
              container.addEventListener("click", () => {

                Helper.popup(async overlay => {

                  const header = document.createElement("div")
                  header.style.position = "fixed"
                  header.style.bottom = "0"
                  header.style.left = "0"
                  header.style.width = "100%"
                  header.style.display = "flex"
                  header.style.justifyContent = "flex-start"
                  header.style.alignItems = "center"
                  header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
                  header.style.background = "white"
                  header.style.cursor = "pointer"
                  header.addEventListener("click", () => Helper.removeOverlay(overlay))

                  const logo = document.createElement("img")
                  logo.src = "/public/getyour-logo.svg"
                  logo.alt = "Getyour"
                  logo.style.width = "55px"
                  logo.style.margin = "21px 34px"
                  header.append(logo)
                  const title = document.createElement("div")
                  title.innerHTML = platform.name
                  title.style.fontWeight = "bold"
                  title.style.fontSize = "21px"
                  header.append(title)
                  overlay.append(header)


                  const buttons = document.createElement("div")
                  buttons.style.overflow = "auto"
                  buttons.style.paddingBottom = "144px"


                  {
                    const button = document.createElement("div")
                    button.style.display = "flex"
                    button.style.flexWrap = "wrap"
                    button.style.justifyContent = "space-between"
                    button.style.alignItems = "center"
                    button.style.margin = "21px 34px"
                    button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
                    button.style.borderRadius = "13px"
                    button.style.border = "0.3px solid black"
                    button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
                    button.style.cursor = "pointer"
                    button.addEventListener("click", () => window.location.assign(platform.home))

                    const icon = document.createElement("img")
                    icon.style.margin = "13px 34px"
                    icon.style.width = "34px"
                    icon.src = "/public/home.svg"
                    icon.alt = "Home"
                    button.append(icon)

                    const title = document.createElement("div")
                    title.innerHTML = "Startseite"
                    title.style.margin = "21px 34px"
                    title.style.fontSize = "21px"
                    button.append(title)

                    buttons.append(button)
                  }

                  // add toolbox button
                  // add visibility button
                  {
                    const button = document.createElement("div")
                    button.style.display = "flex"
                    button.style.flexWrap = "wrap"
                    button.style.justifyContent = "space-between"
                    button.style.alignItems = "center"
                    button.style.margin = "21px 34px"
                    button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
                    button.style.borderRadius = "13px"
                    button.style.border = "0.3px solid black"
                    button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
                    button.style.cursor = "pointer"

                    button.addEventListener("click", () => {

                      Helper.popup(async overlay => {

                        {
                          const header = document.createElement("div")
                          header.style.position = "fixed"
                          header.style.bottom = "0"
                          header.style.left = "0"
                          header.style.width = "100%"
                          header.style.display = "flex"
                          header.style.justifyContent = "flex-start"
                          header.style.alignItems = "center"
                          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
                          header.style.background = "white"
                          header.style.cursor = "pointer"
                          header.addEventListener("click", () => Helper.removeOverlay(overlay))

                          const logo = document.createElement("img")
                          logo.src = "/public/getyour-logo.svg"
                          logo.alt = "Getyour"
                          logo.style.width = "55px"
                          logo.style.margin = "21px 34px"
                          header.append(logo)
                          const title = document.createElement("div")
                          title.innerHTML = `Plattform hinzufügen`
                          title.style.fontWeight = "bold"
                          title.style.fontSize = "21px"
                          header.append(title)
                          overlay.append(header)
                        }


                        const funnel = document.createElement("div")
                        funnel.style.overflow = "auto"
                        funnel.style.paddingBottom = "144px"


                        const platformNameField = new TextField("platformName", funnel)
                        platformNameField.label.innerHTML = "Name"
                        platformNameField.input.accept = "text/tag"
                        platformNameField.input.maxLength = "21"
                        platformNameField.input.required = true
                        platformNameField.input.placeholder = "meine-plattform"
                        platformNameField.input.addEventListener("input", (event) => {
                          platformNameField.withValidValue()
                        })
                        Helper.setNotValidStyle(platformNameField.input)



                        // const platformLogoField = new FileField("platformLogo", funnel)
                        // platformLogoField.label.innerHTML = "Logo"
                        // platformLogoField.input.accept = "image/jpeg, image/png"
                        // platformLogoField.input.required = true
                        // platformLogoField.input.addEventListener("input", (event) => {
                        //   platformLogoField.withValidImage(event.target.files[0])
                        // })
                        // Helper.setNotValidStyle(platformLogoField.input)

                        const button = document.createElement("div")
                        button.innerHTML = "Hinzufügen"
                        button.style.backgroundColor = "#c02221"
                        button.style.cursor = "pointer"
                        button.style.fontSize = "21px"
                        button.style.borderRadius = "13px"
                        button.style.margin = "13px 34px"
                        button.style.display = "flex"
                        button.style.justifyContent = "center"
                        button.style.alignItems = "center"
                        button.style.height = "89px"
                        button.style.color = "#fff"
                        button.addEventListener("click", async () => {
                          const platformName = await platformNameField.withValidValue()
                          const platformLogoFiles = await platformLogoField.withValidValue()
                          const platformLogo = await platformLogoField.withValidImage(platformLogoFiles[0])


                          const verify = {}
                          verify.url = "/verify/platform/closed/3/"
                          verify.name = platformName
                          verify.localStorageEmail = await Request.email()
                          verify.localStorageId = await Request.localStorageId()
                          verify.location = window.location.href
                          verify.referer = document.referrer
                          const res = await Request.middleware(verify)

                          if (res.status === 200) {
                            alert("Plattform Name existiert bereits.")
                            Helper.setNotValidStyle(platformNameField.input)
                            return
                          }


                          try {
                            Helper.addOverlay()
                            Helper.setWaitCursor()
                            const register = {}
                            register.url = "/register/platform/closed/3/"
                            register.name = platformName
                            register.logo = platformLogo
                            register.localStorageEmail = await Request.email()
                            register.localStorageId = await Request.localStorageId()
                            register.location = window.location.href
                            register.referer = document.referrer
                            await Request.sequence(register)
                            alert("Plattform erfolgreich hinzugefügt..")
                          } catch (error) {
                            alert("Fehler.. Bitte wiederholen.")
                          }
                          window.location.reload()


                        })
                        funnel.append(button)

                        overlay.append(funnel)
                      })


                    })

                    const icon = document.createElement("img")
                    icon.style.margin = "13px 34px"
                    icon.style.width = "34px"
                    icon.src = "/public/visibility.svg"
                    icon.alt = "Sichtbarkeit"
                    button.append(icon)

                    const title = document.createElement("div")
                    title.innerHTML = "Sichtbarkeit"
                    title.style.margin = "21px 34px"
                    title.style.fontSize = "21px"
                    button.append(title)

                    buttons.append(button)
                  }

                  {
                    const button = document.createElement("div")
                    button.style.display = "flex"
                    button.style.flexWrap = "wrap"
                    button.style.justifyContent = "space-between"
                    button.style.alignItems = "center"
                    button.style.margin = "21px 34px"
                    button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
                    button.style.borderRadius = "13px"
                    button.style.border = "0.3px solid black"
                    button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
                    button.style.cursor = "pointer"

                    button.addEventListener("click", async () => {

                      try {
                        Helper.addOverlay()
                        Helper.setWaitCursor()
                        const confirm = window.confirm("Möchtest du die Plattform wirklich löschen? Alle enthaltenen Dokumente werden ebenfalls gelöscht.")
                        if (confirm === true) {
                          {
                            const del = {}
                            del.url = "/delete/platform/closed/3/"
                            del.name = platform.name
                            del.localStorageId = await Request.localStorageId()
                            del.localStorageEmail = await Request.email()
                            del.location = window.location.href
                            del.referer = document.referrer
                            await Request.sequence(del)
                          }
                          alert("Plattform erfolgreich gelöscht.")
                        }
                      } catch (error) {
                        alert("Fehler.. Bitte wiederholen.")
                      }
                      window.location.reload()


                    })

                    const icon = document.createElement("img")
                    icon.style.margin = "13px 34px"
                    icon.style.width = "34px"
                    icon.src = "/public/delete.svg"
                    icon.alt = "Löschen"
                    button.append(icon)

                    const title = document.createElement("div")
                    title.innerHTML = "Löschen"
                    title.style.margin = "21px 34px"
                    title.style.fontSize = "21px"
                    button.append(title)

                    buttons.append(button)
                  }


                  overlay.append(buttons)
                })

              })


              {
                const icon = document.createElement("img")
                icon.style.margin = "13px 34px"
                icon.style.width = "55px"
                icon.src = platform.logo
                icon.alt = platform.name
                container.append(icon)
              }

              {
                const title = document.createElement("h2")
                title.style.margin = "13px 34px"
                title.style.fontWeight = "normal"
                title.innerHTML = platform.name
                container.append(title)
              }

              document.body.append(container)
            }

          }




        }

      }



    </script>

  </body>
</html>
