<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="/public/getyour-logo.svg" />
    <title>Startseite</title>

    <style>
      body {
        margin: 0;
        overscroll-behavior: none;
      }
    </style>

  </head>
  <body>



    <script type="module">
      import {Request} from "/js/Request.js"
      import {Helper} from "/js/Helper.js"

      Helper.convert("parent/dark", document.body)

      Helper.headerPicker("back", document.body)
      Helper.headerPicker("navigation-open", document.body)


      Helper.render("text/title", "Zugangspunkte", document.body)

      {
        const buttons = Helper.headerPicker("loading", document.body)

        const get = {}
        get.url = "/get/experts/open/"
        const res = await Request.open(get)

        if (res.status !== 200) {

          Helper.convert("parent/info", buttons)

          buttons.innerHTML = `<span style="margin: 21px 34px;">Schon bald werden hier Zugänge für dich zur Verfügung stehen.</span>`
          throw new Error("expert not found")

        }

        if (res.status === 200) {
          const experts = JSON.parse(res.response)

          if (experts.length === 0) {

            Helper.convert("parent/info", buttons)

            buttons.innerHTML = `<span style="margin: 21px 34px;">Schon bald werden hier Zugänge für dich zur Verfügung stehen.</span>`
            throw new Error("expert not found")

          }

          Helper.render("experts/open", experts, buttons)

        }
      }

    </script>

  </body>
</html>
